---
title: 图片处理功能集
abbrlink: b37b04e8
date: 2024-02-29 22:22:07
tags: 功能说明
categories: 媒体处理
---

# 图片处理功能

对存储在小文件系统中的图片资源进行在线处理，提供统一的能力层，屏蔽底层云厂商差异。所有处理均基于可直接访问 / 可正常下载的原始图片
URL。

## 图片基本信息

获取图片的基本信息，例如：图片格式、文件大小、色彩模型、宽、搞、帧个数，格式如下：

```json
{
  "format": "JPEG",
  "width": 224,
  "height": 224,
  "orientation": "1",
  "colorModel": "sRGB",
  "frameNumber": "1",
  "fileSize": "6574B"
}
```

<br>
说明

支持格式：JPEG、PNG、WEBP、GIF、BMP、TIFF 等

最大文件大小限制：20MB

多帧图片（GIF、WEBP）返回帧数

## 图片压缩

在不显著影响视觉质量的前提下，利用智能压缩策略减少文件体积。压缩后保持：分辨率不变、图片格式不变，尽量保持主观画质稳定

支持特性：
1、智能质量调节（自动选择最佳质量参数）
2、元数据剥离（EXIF / ICC 可选保留）
最高可节省 20% ~ 80% 文件大小（视图片内容而定）

## 图片缩略

生成指定尺寸的缩略图，用于列表页展示、图标、头像等场景。

支持模式

固定宽度：width = w，高度等比缩放

固定高度：height = h，宽度等比缩放

固定宽高：自动按内容适配

填充模式（pad）：保持比例，空白处填充背景色

拉伸模式（stretch）：强制指定宽高

示例能力

生成 200x200 的等比缩略图

生成固定宽度 800 的横图

生成正方形裁切 thumbnail（头像）

## 图片裁剪

图片裁剪（Image Crop）是对图像进行区域截取的基础能力，用于从原图中提取关键信息、去除不必要内容，生成新的图片区域。
该功能广泛应用于：头像生成、商品主图处理、社交内容截取、图片预览、多媒体编辑等场景。按照以下分类：

 类别        | 说明       | 备注 |
-----------|----------|----|
 坐标裁剪      | 精确裁剪     |    |   
 中心裁剪      | 自动对齐主体   |    |   
 比例裁剪      | （按宽高比裁剪） |    |
 人脸/主体自动裁剪 | （缩略图常用）  |    |
 业务指标      | 图片处理个数   |    |
 业务指标      | 视频处理个数   |    |

备注：
1、该裁剪能力可通过 URL 参数 / API 方式调用，兼容阿里云 OSS、腾讯云 CI 的主流参数规范。

## 格式转换

## 水印

### 文字水印

### logo水印

### 暗水印

## 图片合并